-------------------------------------------------------------------------------------------------------------
-- SQL DDL (DATA DEFINITION LANGUAGE) 
-------------------------------------------------------------------------------------------------------------
-- DDL is used to DEFINE and MANAGE database structures.
-- DDL Commands include:
-- CREATE, DROP, ALTER, TRUNCATE, RENAME (sp_rename)
-------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------
--  CREATE DATABASE
------------------------------------------------------------------------------------
-- Use to create a new database

CREATE DATABASE CompanyDB;

-- Use database 
USE CompanyDB;
------------------------------------------------------------------------------------
--  CREATE TABLE
------------------------------------------------------------------------------------
-- Use to create a new table inside a database

CREATE TABLE Employee (
    emp_id INT PRIMARY KEY,           -- Primary Key
    first_name VARCHAR(50) NOT NULL,  -- Cannot be NULL
    last_name VARCHAR(50) NOT NULL,
    age INT,
    department VARCHAR(50),
    salary INT
);
------------------------------------------------------------------------------------
--  INSERT DATA 
------------------------------------------------------------------------------------
-- This is not DDL, but added for examples (demo)

INSERT INTO Employee VALUES
(1, 'Rahul', 'Sharma', 25, 'IT', 45000),
(2, 'Anita', 'Patel', 28, 'HR', 38000),
(3, 'Aman', 'Khan', 30, 'Sales', 52000);
------------------------------------------------------------------------------------
--  ALTER TABLE - ADD COLUMN
------------------------------------------------------------------------------------
-- Used to modify table structure

ALTER TABLE Employee ADD email VARCHAR(100);
------------------------------------------------------------------------------------
--  ALTER TABLE - CHANGE COLUMN TYPE
------------------------------------------------------------------------------------
-- Change existing column datatype/size
ALTER TABLE Employee ALTER COLUMN salary DECIMAL(12,2);
------------------------------------------------------------------------------------
--  ALTER TABLE - DROP COLUMN
------------------------------------------------------------------------------------
-- Remove a column from table

ALTER TABLE Employee DROP COLUMN email;
------------------------------------------------------------------------------------
--  RENAME TABLE
------------------------------------------------------------------------------------
-- Change table name

EXEC sp_rename 'Employee','Staff';
------------------------------------------------------------------------------------
--  TRUNCATE TABLE
------------------------------------------------------------------------------------
-- Deletes ALL records but keeps table structure intact

TRUNCATE TABLE Staff;
------------------------------------------------------------------------------------
--  DROP TABLE
------------------------------------------------------------------------------------
-- Completely deletes the table structure as well as data

DROP TABLE Staff;

------------------------------------------------------------------------------------
--  DROP DATABASE
------------------------------------------------------------------------------------
-- Completely deletes the database

DROP DATABASE CompanyDB;
-------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------